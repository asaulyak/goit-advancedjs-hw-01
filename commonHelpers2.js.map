{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-video.js"],"sourcesContent":["import Player from '@vimeo/player';\nimport throttle from 'lodash.throttle';\n\nconst PLAYER_CURRENT_TIME_KEY = 'videoplayer-current-time'\n\nfunction createPlayer() {\n  const iframe = document.getElementById('vimeo-player');\n  return new Player(iframe);\n}\n\nfunction bindVimeoEvents(player) {\n  player.on('timeupdate', throttle(event => setVideoProgress(event.seconds), 1000));\n  player.on('ended', () => setVideoProgress(0));\n\n  player.on('loaded', () => {\n    const currentProgress = getVideoProgress();\n\n    if (!currentProgress) {\n      return;\n    }\n\n    player.setCurrentTime(currentProgress);\n  });\n}\n\nfunction setVideoProgress(position) {\n  localStorage.setItem(PLAYER_CURRENT_TIME_KEY, position);\n}\n\nfunction getVideoProgress() {\n  return localStorage.getItem(PLAYER_CURRENT_TIME_KEY);\n}\n\nfunction init() {\n  const player = createPlayer();\n  bindVimeoEvents(player);\n}\n\ninit();\n"],"names":["PLAYER_CURRENT_TIME_KEY","createPlayer","iframe","Player","bindVimeoEvents","player","throttle","event","setVideoProgress","currentProgress","getVideoProgress","position","init"],"mappings":"+IAGA,MAAMA,EAA0B,2BAEhC,SAASC,GAAe,CACtB,MAAMC,EAAS,SAAS,eAAe,cAAc,EACrD,OAAO,IAAIC,EAAOD,CAAM,CAC1B,CAEA,SAASE,EAAgBC,EAAQ,CAC/BA,EAAO,GAAG,aAAcC,EAASC,GAASC,EAAiBD,EAAM,OAAO,EAAG,GAAI,CAAC,EAChFF,EAAO,GAAG,QAAS,IAAMG,EAAiB,CAAC,CAAC,EAE5CH,EAAO,GAAG,SAAU,IAAM,CACxB,MAAMI,EAAkBC,IAEnBD,GAILJ,EAAO,eAAeI,CAAe,CACzC,CAAG,CACH,CAEA,SAASD,EAAiBG,EAAU,CAClC,aAAa,QAAQX,EAAyBW,CAAQ,CACxD,CAEA,SAASD,GAAmB,CAC1B,OAAO,aAAa,QAAQV,CAAuB,CACrD,CAEA,SAASY,GAAO,CACd,MAAMP,EAASJ,IACfG,EAAgBC,CAAM,CACxB,CAEAO,EAAM"}